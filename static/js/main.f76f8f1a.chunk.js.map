{"version":3,"sources":["static/img/p3.png","static/img/p4.jpeg","tools/calculate.tsx","tools/quad.tsx","App.tsx","tools/common.tsx","tools/circle.tsx","serviceWorker.ts","index.tsx","static/img/p1.jpg"],"names":["module","exports","weightedAverage","histogram","total","value","i","error","Math","sqrt","Quad","x","y","w","h","p","imageContext","e","color","parent","node","ctx","score","subarray","r","re","g","ge","b","be","round","colorFromHistogram","data","getImageData","Uint32Array","n","length","computeHistogram","this","toString","substring","pow","args","dx","x1","x2","dy","y1","y2","filter","App","images","p1","p2","p3","p4","dotRef","useRef","canvasRef","quadImage","floor","random","useEffect","current","context","getContext","img","Image","onload","drawImage","svg","d3","append","attr","style","quad","document","body","backgroundColor","Circle","quads","init","circle","selectAll","enter","on","d","console","log","split","remove","transition","duration","each","src","className","ref","height","width","display","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.f76f8f1a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/p3.5dc7d115.png\";","module.exports = \"data:image/jpeg;base64,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\"","function colorFromHistogram(histogram: Uint32Array) {\n    const [r, re] = weightedAverage(histogram.subarray(0, 256));\n    const [g, ge] = weightedAverage(histogram.subarray(256, 512));\n    const [b, be] = weightedAverage(histogram.subarray(512, 768));\n    return [\n        Math.round(r),\n        Math.round(g),\n        Math.round(b),\n        re * 0.2989 + ge * 0.5870 + be * 0.1140\n    ];\n}\n\nfunction weightedAverage(histogram: Uint32Array) {\n    // 加权平均值 weighted average value\n    let total = 0;\n    let value = 0;\n    for (let i = 0; i < 256; ++i) {\n        total += histogram[i];\n        value += histogram[i] * i;\n    }\n    value /= total;\n\n    // 加权标准差 WEIGHTED STANDARD DEVIATION\n    let error = 0;\n    for (let i = 0; i < 256; ++i) error += (value - i) ** 2 * histogram[i];\n    return [value, Math.sqrt(error / total)];\n}\n\nfunction computeHistogram(imageContext: CanvasRenderingContext2D, x: number, y: number, w: number, h: number) {\n    const {data} = imageContext.getImageData(x, y, w, h);\n    const histogram = new Uint32Array(1024);\n    // 将 RGBA 数组转化为直方图\n    // R: 0 - 256\n    // G: 256 - 512\n    // B: 512 - 768\n    // A: 768 - 1024\n    for (let i = 0, n = data.length; i < n; i += 4) {\n        ++histogram[0 * 256 + data[i + 0]];\n        ++histogram[1 * 256 + data[i + 1]];\n        ++histogram[2 * 256 + data[i + 2]];\n        ++histogram[3 * 256 + data[i + 3]];\n    }\n    return histogram;\n}\n\nfunction checkSplit(args: Array<number>): boolean {\n    return args.filter(x => x >= 1).length === args.length;\n}\n\n\nexport {\n    colorFromHistogram,\n    computeHistogram,\n    checkSplit\n}\n","import {checkSplit, computeHistogram, colorFromHistogram} from './calculate'\n\nclass Quad {\n    x: number;\n    y: number;\n    w: number;\n    h: number;\n    e: number;\n    color: string;\n    parent: null | Quad;\n    node: null | HTMLElement;\n    private ctx: CanvasRenderingContext2D;\n    private score: number;\n\n\n    //x: 将要被提取的图像数据矩形区域的左上角 x 坐标。\n    //y: 将要被提取的图像数据矩形区域的左上角 y 坐标。\n    //w: 将要被提取的图像数据矩形区域的宽度。\n    //h: 将要被提取的图像数据矩形区域的高度。\n\n    // error: rgb -> gray\n    constructor(x: number, y: number, w: number, h: number, p: null | Quad, imageContext: CanvasRenderingContext2D) {\n        const [r, g, b, error] = colorFromHistogram(computeHistogram(imageContext, x, y, w, h));\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.ctx = imageContext;\n        this.color = `#${(0x1000000 + (r << 16) + (g << 8) + b).toString(16).substring(1)}`;\n        this.score = error * Math.pow(w * h, 0.25);\n        this.e = error;\n        this.node = null;\n        this.parent = p;\n    }\n\n    split() {\n        const dx = this.w / 2, x1 = this.x, x2 = this.x + dx;\n        const dy = this.h / 2, y1 = this.y, y2 = this.y + dy;\n\n        if (!checkSplit([dx, dy])) {\n            return null;\n        }\n\n        return [\n            new Quad(x1, y1, dx, dy, this, this.ctx),\n            new Quad(x2, y1, dx, dy, this, this.ctx),\n            new Quad(x1, y2, dx, dy, this, this.ctx),\n            new Quad(x2, y2, dx, dy, this, this.ctx)\n        ];\n    }\n}\n\n\nexport default Quad;\n","import React, {useEffect, useRef} from 'react';\nimport * as d3 from 'd3';\n\nimport Quad from './tools/quad';\nimport Circle from './tools/circle';\nimport {findImage, getRandom} from \"./tools/common\";\n\n\nfunction App() {\n\n  const images: Array<string> = findImage();\n\n  const dotRef = useRef(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const width = 1024;\n  const height = 1024;\n\n  // todo: support upload picture\n  // const [quadImage] = useState<string>(getRandom(images));\n\n  const quadImage = getRandom(images);\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    // @ts-ignore\n    let context: CanvasRenderingContext2D = canvasRef.current.getContext('2d');\n\n    let img = new Image();\n    img.onload = function(){\n      context.drawImage(img, 0, 0, height, width);\n      const svg = d3.select(dotRef.current)\n          .append(\"svg\")\n          .attr(\"viewBox\", `0 0 ${height} ${width}`)\n          .style(\"display\", \"block\");\n\n      const quad = new Quad(0, 0, width, width, null, context);\n      if (quad.e > 30) {\n        document.body.style.backgroundColor = \"#FFFFFB\";\n      }\n\n      Circle(svg, [quad], true);\n    };\n    img.src = quadImage;\n  }, [quadImage]);\n\n  return (\n    <div className=\"center\">\n      <div className=\"cont\">\n        <div className=\"dot\" ref={dotRef}>\n          <canvas height={height} width={width} ref={canvasRef} style={{display: \"none\"}}/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import p1 from '../static/img/p1.jpg';\nimport p2 from '../static/img/p1.jpg';\nimport p3 from '../static/img/p3.png';\nimport p4 from '../static/img/p4.jpeg';\n\n\nconst findImage = (): Array<string> => {\n    return [p1, p2, p3, p4]\n};\n\n\nconst getRandom = (data: Array<string>): string => {\n    return data[Math.floor(Math.random() * data.length)]\n};\n\nexport {\n    findImage,\n    getRandom\n}\n","import Quad from \"./quad\";\nimport * as d3 from \"d3\";\n\nexport default function Circle(svg: any, quads: null | Quad[], init: boolean) {\n    var circle = svg.selectAll('.a').data(quads)\n        .enter().append('circle');\n\n    // mobile touch event\n    // todo: support multiple circle split simultaneously\n    circle.on('touchmove', function(d: Quad) {\n        console.log(d.node, typeof d.node);\n        if (d.split() !== null && d.node) {\n            d3.select(d.node).remove();\n            delete d.node;\n            Circle(svg, d.split(), false);\n        }\n    });\n\n    // mouse click event\n    circle.on('click', function(d: Quad) {\n        if (d.split() !== null) {\n            d3.select(d.node).remove();\n            delete d.node;\n            Circle(svg, d.split(), false);\n        }\n    });\n\n    // mouse out event\n    circle.on('mouseout', function(d: Quad) {\n        if (d.split() !== null && d.node) {\n            d3.select(d.node).remove();\n            delete d.node;\n            Circle(svg, d.split(), false);\n        }\n    });\n\n    if (init) {\n        // Setup the initial state of the initial circle\n        circle = circle\n            .attr('cx',   function(d: Quad) { return d.x + d.w / 2 ; })\n            .attr('cy',   function(d: Quad) { return d.y + d.h / 2; })\n            .attr('r', function(d: Quad) { return d.w / 1000; })\n            .attr('fill', '#fff')\n            .transition()\n            .duration(1000);\n    } else {\n        // Setup the initial state of the opened circles\n        circle = circle\n            .attr('cx',   function(d: Quad) { return d.parent ? d.parent.x + d.parent.w / 2 : 0; })\n            .attr('cy',   function(d: Quad) { return d.parent ? d.parent.y + d.parent.h / 2 : 0; })\n            .attr('r',    function(d: Quad) { return d.parent ? d.parent.w / 2 : 0; })\n            .attr('fill', function(d: Quad) { return d.color ; })\n            .attr('fill-opacity', 0.18)\n            .transition()\n            .duration(250);\n    }\n\n    // Transition the to the respective final state\n    circle\n        .attr('cx',   function(d: Quad) { return d.x + d.w / 2; })\n        .attr('cy',   function(d: Quad) { return d.y + d.h / 2; })\n        .attr('r',    function(d: Quad) { return d.w / 2; })\n        .attr('fill', function(d: Quad) { return d.color; })\n        .attr('fill-opacity', 1)\n        .each(function(d: Quad) {\n            // @ts-ignore\n            d.node = this;\n        });\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/p1.ddc13a2d.jpg\";"],"sourceRoot":""}